var __reflect=this&&this.__reflect||function(e,t,n){e.__class__=t,n?n.push(t):n=[t],e.__types__=e.__types__?n.concat(e.__types__):n},__extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},__awaiter=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r["throw"](e))}catch(t){a(t)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,o)}l((r=r.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(s=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(a,n[1])).done)return s;switch(a=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(s=l.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){l.label=n[1];break}if(6===n[0]&&l.label<s[1]){l.label=s[1],s=n;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(n);break}s[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(r){n=[6,r],a=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,s,o,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},Alert=function(){function e(){}return e.show=function(t,n){void 0===n&&(n=3e3),e.addLabel(t);egret.clearTimeout(e._timeHandler),e._timeHandler=egret.setTimeout(function(){e.removeLabel()},null,n)},e.addLabel=function(t){e._label.textColor=16711680,e._label.text=t,e._label.size=30,e._label.x=20,e._label.y=30,e._label.bold=!0,e._label.fontFamily="微软雅黑",e.stage.addChild(e._label),console.log(e._label),console.log(e.stage)},e.removeLabel=function(){-1!=e.stage.getChildIndex(e._label)&&e.stage.removeChild(e._label)},e._label=new egret.TextField,e._timeHandler=null,e}();__reflect(Alert.prototype,"Alert");var Bridge=function(e){function t(t,n){var r=e.call(this)||this;return r._linkNum=0,r._bridgeShape=new egret.Shape,r.addChild(r._bridgeShape),r._startIsland=t,r._endIsland=n,r.draw(),r}return __extends(t,e),Object.defineProperty(t.prototype,"linkNum",{get:function(){return this._linkNum},set:function(e){this._linkNum=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startIsland",{get:function(){return this._startIsland},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endIsland",{get:function(){return this._endIsland},enumerable:!0,configurable:!0}),t.prototype.addLink=function(){this.linkNum<2?(this.linkNum++,this.startIsland.currentBridgeNum++,this.endIsland.currentBridgeNum++):(this.linkNum=0,this.startIsland.currentBridgeNum-=2,this.endIsland.currentBridgeNum-=2)},t.prototype.draw=function(){var e=this._bridgeShape.graphics;e.clear(),e.lineStyle(5,3355443);var t=new egret.Point(this._startIsland.x,this._startIsland.y),n=new egret.Point(this._endIsland.x,this._endIsland.y),r=15;switch(this._linkNum){case 0:break;case 1:e.moveTo(t.x,t.y),e.lineTo(n.x,n.y);break;case 2:var i=Math.atan2(n.y-t.y,n.x-t.x)+Math.PI/2,a=Math.cos(i)*r/2,s=Math.sin(i)*r/2,o=new egret.Point(t.x+a,t.y+s),l=new egret.Point(n.x+a,n.y+s),d=new egret.Point(t.x-a,t.y-s),h=new egret.Point(n.x-a,n.y-s);e.moveTo(o.x,o.y),e.lineTo(l.x,l.y),e.moveTo(d.x,d.y),e.lineTo(h.x,h.y);break;case 3:i=Math.atan2(n.y-t.y,n.x-t.x)+Math.PI/2,a=Math.cos(i)*r,s=Math.sin(i)*r,o=new egret.Point(t.x+a,t.y+s),l=new egret.Point(n.x+a,n.y+s),d=new egret.Point(t.x-a,t.y-s),h=new egret.Point(n.x-a,n.y-s),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.moveTo(o.x,o.y),e.lineTo(l.x,l.y),e.moveTo(d.x,d.y),e.lineTo(h.x,h.y)}},t}(egret.Sprite);__reflect(Bridge.prototype,"Bridge");var Button=function(e){function t(t){void 0===t&&(t="按钮");var n=e.call(this)||this;return n._label=new egret.TextField,n._label.text=t,n._bgColor=16777215,n.draw(),n}return __extends(t,e),Object.defineProperty(t.prototype,"clickable",{set:function(e){e?(this.touchEnabled=!0,this._bgColor=16777215):(this.touchEnabled=!1,this._bgColor=12303291),this.draw()},enumerable:!0,configurable:!0}),t.prototype.draw=function(){var e=this._label;e.textColor=3355443,e.size=40,e.bold=!0,e.x=15,e.y=15,e.fontFamily="微软雅黑";var t=new egret.Shape,n=t.graphics;n.clear(),n.lineStyle(1,8947848),n.beginFill(this._bgColor),n.drawRoundRect(0,0,e.width+30,e.height+30,15,15),this.addChild(t),this.addChild(e)},t}(egret.Sprite);__reflect(Button.prototype,"Button");var ControlPanel=function(e){function t(t,n,r){var i=e.call(this)||this;return i._map=t,i._width=n,i._height=r,i.createBackGround(),i.addLevelInfo(),i.addBtns(),i}return __extends(t,e),t.prototype.createBackGround=function(){var e=new egret.Shape,t=e.graphics;t.lineStyle(1,6710886),t.beginFill(16777215),t.drawRoundRect(0,0,this._width,this._height,20,20),this.addChild(e)},t.prototype.createLevelInfo=function(){var e=new egret.Sprite,t=e.graphics;t.clear(),t.beginFill(16777215),t.lineStyle(1,8947848),t.drawRoundRect(0,0,90,70,15,15),t.endFill(),this._levelInfo=new egret.TextField,this._levelInfo.text=String(Datas.currentLevel+1),this._levelInfo.textColor=0,this._levelInfo.textAlign=egret.HorizontalAlign.CENTER,this._levelInfo.verticalAlign=egret.VerticalAlign.MIDDLE;var n=50;return this._levelInfo.width=90,this._levelInfo.height=70,this._levelInfo.bold=!0,this._levelInfo.size=n,e.addChild(this._levelInfo),e},t.prototype.addLevelInfo=function(){var e=this.createLevelInfo();e.x=170,e.y=10,this.addChild(e)},t.prototype.addBtns=function(){var e,t,n;e=new Button("上一关"),e.x=10,e.y=10,this.addChild(e),e.addEventListener(egret.TouchEvent.TOUCH_TAP,function(n){Datas.hasPreLevel()&&(this._map.update(Datas.preLevel()),this._levelInfo.text=String(Datas.currentLevel+1),Alert.show("开始搭桥吧"),t.clickable=!0,Datas.hasPreLevel()||(e.clickable=!1))},this),e.clickable=!1,t=new Button("下一关"),t.x=270,t.y=10,this.addChild(t),t.addEventListener(egret.TouchEvent.TOUCH_TAP,function(n){Datas.hasNextLevel()&&(this._map.update(Datas.newLevel()),this._levelInfo.text=String(Datas.currentLevel+1),Alert.show("开始搭桥吧"),e.clickable=!0,Datas.hasNextLevel()||(t.clickable=!1))},this),t.clickable=!0,n=new Button("重 玩"),n.x=this._width-n.width-10,n.y=10,this.addChild(n),n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){this._map.update(Datas.currentLevelData()),Alert.show("开始搭桥吧")},this),n.clickable=!0},t}(egret.Sprite);__reflect(ControlPanel.prototype,"ControlPanel");var Datas=function(){function e(){}return e.currentLevelData=function(){return e.datas[e.currentLevel]},e.newLevel=function(){return e.hasNextLevel()?(e.currentLevel++,e.datas[e.currentLevel]):null},e.preLevel=function(){return e.hasPreLevel()?(e.currentLevel--,e.datas[e.currentLevel]):null},e.hasNextLevel=function(){return e.currentLevel<e.datas.length-1},e.hasPreLevel=function(){return e.currentLevel>0},e.datas=[[[0,4,0,0,5,0,3],[2,0,0,1,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,1],[0,0,0,0,0,0,0],[0,3,0,2,0,0,0],[3,0,0,0,4,0,2]],[[2,0,0,0,0,0,0],[0,2,0,5,0,0,1],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[6,0,0,8,0,0,4],[0,0,0,0,0,0,0],[3,0,0,5,0,0,4]],[[0,4,0,0,5,0,3],[2,0,0,1,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,1],[0,0,0,0,0,0,0],[0,3,0,2,0,0,0],[3,0,0,0,4,0,2]],[[3,0,0,2,0,2,0,0,1,0],[0,3,0,0,0,0,0,0,0,3],[0,0,1,0,5,0,0,0,3,0],[0,0,0,0,0,0,0,0,0,0],[0,3,0,0,5,0,0,0,3,0],[5,0,0,0,0,0,0,0,0,4],[0,0,0,0,0,0,0,0,0,0],[5,0,3,0,0,0,0,0,2,0],[0,2,0,0,0,0,0,4,0,3],[3,0,0,3,0,0,2,0,0,0]],[[0,3,0,2,0,2,0,0,2,0],[0,0,0,0,0,0,0,0,0,0],[0,2,0,0,0,4,0,2,0,1],[2,0,4,0,2,0,0,0,2,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,4,0,0,0,0,4],[3,0,5,0,0,2,0,0,4,0],[0,0,0,0,0,0,0,0,0,0],[0,0,3,0,3,0,0,0,3,0],[4,0,0,0,0,0,0,0,0,3]],[[0,2,0,0,0,5,0,0,0,0,0,0,0,0,2],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,1,0,0,4,0,0,0,0,0,0,0,3,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[5,0,0,0,5,0,0,0,0,0,0,2,0,0,0],[0,0,2,0,0,0,4,0,0,2,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,3,0,5,0,4,0,0,0,0,4,0,5,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,2,0,0,0,1,0,0,0,0],[0,0,2,0,0,0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,5,0,0,0,0,2,0,0,0],[2,0,0,0,0,0,0,2,0,0,0,0,0,3,0],[0,0,4,0,5,0,5,0,0,0,0,0,0,0,3]]],e.currentLevel=0,e}();__reflect(Datas.prototype,"Datas");var Island=function(e){function t(n,r){void 0===r&&(r=40);var i=e.call(this)||this;i._adjoins=[null,null,null,null],i._currentBridgeNum=0,i._totalBridgeNum=8,i._radius=r,i._totalBridgeNum=n,i._bg=new egret.Shape,i.addChild(i._bg),i._txt=new egret.TextField,i._txt.text=String(n),i._txt.textAlign=egret.HorizontalAlign.CENTER,i._txt.verticalAlign=egret.VerticalAlign.MIDDLE;var a=1.5*r;return i._txt.width=a,i._txt.height=a,i._txt.anchorOffsetX=a/2,i._txt.anchorOffsetY=a/2,i._txt.bold=!0,i._txt.size=a,i.addChild(i._txt),i._state=t.INIT,i.draw(),i}return __extends(t,e),Object.defineProperty(t.prototype,"adjoins",{get:function(){return this._adjoins},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(e){this._state=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colIndx",{get:function(){return this._colIndex},set:function(e){this._colIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowIndx",{get:function(){return this._rowIndex},set:function(e){this._rowIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalBridgeNum",{get:function(){return this._totalBridgeNum},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentBridgeNum",{get:function(){return this._currentBridgeNum},set:function(e){this._currentBridgeNum=e,this._currentBridgeNum==this._totalBridgeNum?this.state=t.COMPLETED:this.state=t.INIT},enumerable:!0,configurable:!0}),t.prototype.draw=function(){var e,n;switch(this._state){case t.INIT:e=16777215,n=0;break;case t.SELECTED:e=1091839,n=16777215;break;case t.COMPLETED:e=296780,n=16777215}var r=this._bg.graphics;r.clear(),r.beginFill(e),r.lineStyle(3,5592405),r.drawCircle(0,0,this._radius),r.endFill(),this._txt.textColor=n},t.INIT="init",t.SELECTED="selected",t.COMPLETED="completed",t}(egret.Sprite);__reflect(Island.prototype,"Island");var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},t.prototype.onProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var Main=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(e){egret.lifecycle.addLifecycleListener(function(e){e.onUpdate=function(){}}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()},this.runGame()["catch"](function(e){console.log(e)})},t.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(n){switch(n.label){case 0:return[4,this.loadResource()];case 1:return n.sent(),this.createGameScene(),[4,RES.getResAsync("description_json")];case 2:return e=n.sent(),[4,platform.login()];case 3:return n.sent(),[4,platform.getUserInfo()];case 4:return t=n.sent(),console.log(t),[2]}})})},t.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),e=new LoadingUI,this.stage.addChild(e),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return n.sent(),[4,RES.loadGroup("preload",0,e)];case 2:return n.sent(),this.stage.removeChild(e),[3,4];case 3:return t=n.sent(),console.error(t),[3,4];case 4:return[2]}})})},t.prototype.createGameScene=function(){var e=new egret.Shape;e.graphics.beginFill(2236962),e.graphics.drawRect(0,0,this.stage.stageWidth,this.stage.stageHeight),this.addChild(e);var t=new egret.Sprite;t.graphics.beginFill(16777215),t.graphics.drawRect(0,0,this.stage.stageWidth,100),this.addChild(t),Alert.stage=t;var n=new Map(Datas.currentLevelData(),this.stage.stageWidth,this.stage.stageWidth);n.y=120,this.addChild(n);var r=new ControlPanel(n,this.stage.width,90);r.y=this.stage.height-110,this.addChild(r)},t.prototype.createBitmapByName=function(e){var t=new egret.Bitmap,n=RES.getRes(e);return t.texture=n,t},t}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var Map=function(e){function t(t,n,r){var i=e.call(this)||this;return i._islands=[],i._bridgesData=[],i._islandLine=[],i._background=new egret.Shape,i._grid=new egret.Shape,i._firstSelected=null,i._selected=[],i._width=n,i._height=r,i._datas=t,console.log(i._datas),i.createBackground(),i.createObject(),i}return __extends(t,e),t.prototype.update=function(e){this._datas=e,this._firstSelected=null,this._selected=[],this.removeObject(),this.createObject()},t.prototype.createObject=function(){this.createGrid(),this.createIslands(),this.createBridges(),this.addBridges(),this.addIslands(),this.addEventToIsland()},t.prototype.removeObject=function(){this.removeGrid(),this.removeEventToIsland(),this.removeIslands(),this.removeBridges()},t.prototype.createBackground=function(){var e=this._background.graphics;e.beginFill(16777215),e.lineStyle(1,6710886),e.drawRoundRect(10,10,this._width-20,this._width-20,20,20),this.addChild(this._background)},t.prototype.createGrid=function(){var e=this._grid.graphics;e.clear(),e.lineStyle(1,12303291),console.log(this._datas);for(var t=this._datas[0].length,n=this._datas.length,r=this._width/(t+1),i=1;t>=i;i++){var a=i*r,s=r,o=i*r,l=r*n;e.moveTo(a,s),e.lineTo(o,l),console.log("drawline")}for(var i=1;n>=i;i++){var a=r,s=i*r,o=r*t,l=i*r;e.moveTo(a,s),e.lineTo(o,l)}this.addChild(this._grid)},t.prototype.removeGrid=function(){var e=this._grid.graphics;e.clear()},t.prototype.addEventToIsland=function(){for(var e=0;e<this._islandLine.length;e++){var t=this._islandLine[e];t.touchEnabled=!0,t.addEventListener(egret.TouchEvent.TOUCH_TAP,this.islandClickHandler,this)}},t.prototype.removeEventToIsland=function(){for(var e=0;e<this._islandLine.length;e++){var t=this._islandLine[e];t.touchEnabled=!1,t.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.islandClickHandler,this)}},t.prototype.islandClickHandler=function(e){var t=e.currentTarget;switch(t.state){case Island.INIT:case Island.COMPLETED:if(this._firstSelected){var n=this.search(t,this._firstSelected);if(null==n||this.isCross(n))Alert.show("两岛之间只能垂直或水平搭桥，且桥不能相交");else{if(this._firstSelected.currentBridgeNum==this._firstSelected.totalBridgeNum||t.currentBridgeNum==t.totalBridgeNum){do n.addLink();while(0!=n.linkNum);Alert.show("岛上连接的桥不能超过岛上的数字")}else n.addLink(),this.checkComplete();this._firstSelected=null}}else this._firstSelected=t,t.state=Island.SELECTED;break;case Island.SELECTED:t.currentBridgeNum==t.totalBridgeNum?t.state=Island.COMPLETED:t.state=Island.INIT,this._firstSelected=null}},t.prototype.search=function(e,t){for(var n=0;n<this._bridgesData.length;n++){var r=this._bridgesData[n],i=r.startIsland==e&&r.endIsland==t||r.startIsland==t&&r.endIsland==e;if(i)return r}return null},t.prototype.createIslands=function(){for(var e=this._datas.length,t=this._width/(e+1),n=0;e>n;n++){for(var r=[],i=0,a=this._datas[n].length;a>i;i++){var s=this._datas[n][i];if(0!=s){var o=new Island(s,t/2);o.x=(i+1)*t,o.y=(n+1)*t,o.rowIndx=n,o.colIndx=i,r.push(o),this._islandLine.push(o)}else r.push(null)}this._islands.push(r)}},t.prototype.addIslands=function(){for(var e=0;e<this._islandLine.length;e++)this.addChild(this._islandLine[e])},t.prototype.removeIslands=function(){for(var e=0;e<this._islandLine.length;e++)-1!=this.getChildIndex(this._islandLine[e])&&this.removeChild(this._islandLine[e]);this._islandLine=[],this._islands=[]},t.prototype.createBridges=function(){var e=this._islandLine[0];this.check(e)},t.prototype.addBridges=function(){for(var e=0;e<this._bridgesData.length;e++)this.addChild(this._bridgesData[e])},t.prototype.removeBridges=function(){for(var e=0;e<this._bridgesData.length;e++)-1!=this.getChildIndex(this._bridgesData[e])&&this.removeChild(this._bridgesData[e]);this._bridgesData=[]},t.prototype.checkComplete=function(){for(var e=0,t=this._islandLine.length,n=0;t>n;n++)this._islandLine[n].state!=Island.COMPLETED&&e++;0!=e?Alert.show("还剩"+e+"个岛未完成，加油！"):Alert.show("恭喜完成本关，你真棒!",6e3)},t.prototype.check=function(e){for(var t=this._datas.length-1,n=this._datas[0].length-1,r=e.rowIndx,i=e.colIndx,a=r-1;a>=0;a--){var s=this._islands[a][i];if(null!=s){var o=new Bridge(e,s);e.adjoins[0]=s,s[2]=e,this._bridgesData.push(o),this.check(s);break}}for(var a=r+1;t>=a;a++){var s=this._islands[a][i];if(null!=s&&null==s.adjoins[0]){var o=new Bridge(e,s);e.adjoins[2]=s,s.adjoins[0]=e,this._bridgesData.push(o),this.check(s);break}}for(var a=i-1;a>=0;a--){var s=this._islands[r][a];if(null!=s&&null==s.adjoins[1]){var o=new Bridge(e,s);e.adjoins[3]=s,s.adjoins[1]=e,this._bridgesData.push(o),this.check(s);break}}for(var a=i+1;n>=a;a++){var s=this._islands[r][a];if(null!=s&&null==s.adjoins[3]){var o=new Bridge(e,s);e.adjoins[1]=s,s.adjoins[3]=e,this._bridgesData.push(o),this.check(s);break}}},t.prototype.isCross=function(e){for(var t=0;t<this._bridgesData.length;t++){var n=this._bridgesData[t];if(n!=e&&0!=n.linkNum&&e.startIsland!=n.startIsland&&e.startIsland!=n.endIsland&&e.endIsland!=n.startIsland&&e.endIsland!=n.endIsland){var r=new egret.Point(e.startIsland.x,e.startIsland.y),i=new egret.Point(e.endIsland.x,e.endIsland.y),a=new egret.Point(n.startIsland.x,n.startIsland.y),s=new egret.Point(n.endIsland.x,n.endIsland.y);if(this.segmentsIntr(r,i,a,s))return!0}}return!1},t.prototype.segmentsIntr=function(e,t,n,r){var i=(t.y-e.y)*(r.x-n.x)-(e.x-t.x)*(n.y-r.y);if(0==i)return!1;var a=((t.x-e.x)*(r.x-n.x)*(n.y-e.y)+(t.y-e.y)*(r.x-n.x)*e.x-(r.y-n.y)*(t.x-e.x)*n.x)/i,s=-((t.y-e.y)*(r.y-n.y)*(n.x-e.x)+(t.x-e.x)*(r.y-n.y)*e.y-(r.x-n.x)*(t.y-e.y)*n.y)/i;return Math.round(a-e.x)*Math.round(a-t.x)<=0&&Math.round(s-e.y)*Math.round(s-t.y)<=0&&Math.round(a-n.x)*Math.round(a-r.x)<=0&&Math.round(s-n.y)*Math.round(s-r.y)<=0?{x:a,y:s}:!1},t}(egret.Sprite);__reflect(Map.prototype,"Map");var DebugPlatform=function(){function e(){}return e.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,{nickName:"username"}]})})},e.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);